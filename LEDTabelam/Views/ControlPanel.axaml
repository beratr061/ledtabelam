<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:LEDTabelam.ViewModels"
             xmlns:models="using:LEDTabelam.Models"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="320" d:DesignHeight="800"
             x:Class="LEDTabelam.Views.ControlPanel"
             x:DataType="vm:ControlPanelViewModel">

    <UserControl.Styles>
        <Style Selector="Expander">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Padding" Value="8"/>
        </Style>
        <Style Selector="Expander /template/ ToggleButton">
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        
        <!-- Segmented Button Stili -->
        <Style Selector="RadioButton.Segmented">
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#30FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <ControlTemplate>
                    <Border Background="{TemplateBinding Background}" 
                            BorderBrush="{TemplateBinding BorderBrush}" 
                            BorderThickness="{TemplateBinding BorderThickness}" 
                            CornerRadius="{TemplateBinding CornerRadius}" 
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter Content="{TemplateBinding Content}" 
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter>
        </Style>
        <Style Selector="RadioButton.Segmented:checked">
            <Setter Property="Background" Value="#0078D4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#0078D4"/>
        </Style>
        <Style Selector="RadioButton.Segmented:pointerover">
            <Setter Property="Background" Value="#404040"/>
        </Style>
        <Style Selector="RadioButton.Segmented:checked:pointerover">
            <Setter Property="Background" Value="#1084D8"/>
        </Style>
        
        <!-- Renk Paleti Stili -->
        <Style Selector="RadioButton.ColorSwatch">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </UserControl.Styles>

    <StackPanel Spacing="4">
        
        <!-- Slot SeÃ§ici -->
        <Expander Header="ðŸ“ Slot" IsExpanded="True">
            <StackPanel Spacing="8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <NumericUpDown Grid.Column="0"
                                   Value="{Binding CurrentSlotNumber}"
                                   Minimum="1"
                                   Maximum="999"
                                   FormatString="000"
                                   Increment="1"/>
                    <Button Grid.Column="1" Content="Ara..." Margin="8,0,0,0"/>
                </Grid>
                <TextBox Watermark="Slot ara (hat no veya gÃ¼zergah)..."
                         Text="{Binding SlotSearchQuery}"/>
            </StackPanel>
        </Expander>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- DONANIM (Hardware) -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k AyarlarÄ± - Segmented Butonlar -->
        <Expander Header="ðŸ“ Panel Boyutu" IsExpanded="True">
            <StackPanel Spacing="8">
                <TextBlock Text="HÄ±zlÄ± SeÃ§im" Foreground="#808080" FontSize="11"/>
                <WrapPanel>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="32x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="32x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=32x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="64x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="64x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=64x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="96x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="96x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=96x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="128x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="128x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=128x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="144x19" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="144x19"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=144x19}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="150x24" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="150x24"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=150x24}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="160x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="160x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=160x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="192x16" 
                                 Command="{Binding SetResolutionCommand}" CommandParameter="192x16"
                                 IsChecked="{Binding SelectedResolution, Converter={x:Static vm:StringEqualityConverter.Instance}, ConverterParameter=192x16}"/>
                    <RadioButton Classes="Segmented" GroupName="Resolution" Content="Ã–zel" 
                                 IsChecked="{Binding IsCustomResolution}"/>
                </WrapPanel>
                
                <!-- Ã–zel Boyut GiriÅŸi -->
                <Grid IsVisible="{Binding IsCustomResolution}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <NumericUpDown Grid.Column="0"
                                   Value="{Binding PanelWidth}"
                                   Minimum="1"
                                   Maximum="512"
                                   Watermark="GeniÅŸlik"/>
                    <TextBlock Grid.Column="1" Text="x" VerticalAlignment="Center" Margin="8,0"/>
                    <NumericUpDown Grid.Column="2"
                                   Value="{Binding PanelHeight}"
                                   Minimum="1"
                                   Maximum="512"
                                   Watermark="YÃ¼kseklik"/>
                </Grid>
                
                <!-- GerÃ§ek Ã§Ã¶zÃ¼nÃ¼rlÃ¼k bilgisi -->
                <TextBlock Text="{Binding ActualResolutionText}" 
                           Foreground="#808080" FontSize="10"/>
            </StackPanel>
        </Expander>
        
        <!-- Piksel Tipi (Pitch) - Segmented -->
        <Expander Header="âš™ï¸ LED GÃ¶rÃ¼nÃ¼mÃ¼ (Pitch)" IsExpanded="False">
            <StackPanel Spacing="8">
                <TextBlock Text="LED'ler arasÄ± boÅŸluk oranÄ±" Foreground="#808080" FontSize="11"/>
                <TextBlock Text="(Ã‡Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼ etkilemez, sadece gÃ¶rÃ¼nÃ¼mÃ¼ deÄŸiÅŸtirir)" Foreground="#606060" FontSize="10"/>
                <WrapPanel>
                    <RadioButton Classes="Segmented" GroupName="Pitch" Content="P5 (SÄ±kÄ±)" 
                                 IsChecked="{Binding SelectedPitch, Converter={x:Static vm:EnumToBoolConverter.Instance}, ConverterParameter={x:Static models:PixelPitch.P5}}"/>
                    <RadioButton Classes="Segmented" GroupName="Pitch" Content="P10 (AralÄ±klÄ±)" 
                                 IsChecked="{Binding SelectedPitch, Converter={x:Static vm:EnumToBoolConverter.Instance}, ConverterParameter={x:Static models:PixelPitch.P10}}"/>
                    <RadioButton Classes="Segmented" GroupName="Pitch" Content="Ã–zel" 
                                 IsChecked="{Binding IsCustomPitch}"/>
                </WrapPanel>
                <Grid IsVisible="{Binding IsCustomPitch}" ColumnDefinitions="Auto,*,Auto">
                    <TextBlock Grid.Column="0" Text="LED OranÄ±:" Foreground="#808080" FontSize="11" VerticalAlignment="Center"/>
                    <Slider Grid.Column="1" Minimum="0.5" Maximum="0.95" Value="{Binding CustomPitchRatio}" Margin="8,0"/>
                    <TextBlock Grid.Column="2" Text="{Binding CustomPitchRatio, StringFormat={}{0:P0}}" 
                               Foreground="#B0B0B0" FontSize="11" Width="40" VerticalAlignment="Center"/>
                </Grid>
            </StackPanel>
        </Expander>
        
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        <!-- GÃ–RÃœNÃœM (Appearance) -->
        <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
        
        <!-- Piksel Åžekli - Segmented -->
        <Expander Header="ðŸ”² Piksel Åžekli" IsExpanded="False">
            <WrapPanel>
                <RadioButton Classes="Segmented" GroupName="PixelShape" Content="â¬œ Kare" 
                             IsChecked="{Binding SelectedShape, Converter={x:Static vm:EnumToBoolConverter.Instance}, ConverterParameter={x:Static models:PixelShape.Square}}"/>
                <RadioButton Classes="Segmented" GroupName="PixelShape" Content="âš« Yuvarlak" 
                             IsChecked="{Binding SelectedShape, Converter={x:Static vm:EnumToBoolConverter.Instance}, ConverterParameter={x:Static models:PixelShape.Round}}"/>
            </WrapPanel>
        </Expander>
        
        <!-- GÃ¶rsel Ayarlar - Slider + NumericUpDown kombinasyonu -->
        <Expander Header="ðŸŒŸ GÃ¶rsel Ayarlar" IsExpanded="True">
            <StackPanel Spacing="8">
                <!-- ParlaklÄ±k -->
                <TextBlock Classes="label" Text="{Binding Brightness, StringFormat='ParlaklÄ±k: %{0}'}"/>
                <Grid ColumnDefinitions="*, Auto">
                    <Slider Grid.Column="0" Minimum="0" Maximum="100" Value="{Binding Brightness}"
                            TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <NumericUpDown Grid.Column="1" Value="{Binding Brightness}" 
                                   Minimum="0" Maximum="100"
                                   ShowButtonSpinner="False" Width="60" Margin="8,0,0,0"/>
                </Grid>
                
                <!-- Arka Plan -->
                <TextBlock Classes="label" Text="{Binding BackgroundDarkness, StringFormat='Arka Plan: %{0}'}"/>
                <Grid ColumnDefinitions="*, Auto">
                    <Slider Grid.Column="0" Minimum="0" Maximum="100" Value="{Binding BackgroundDarkness}"
                            TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <NumericUpDown Grid.Column="1" Value="{Binding BackgroundDarkness}" 
                                   Minimum="0" Maximum="100"
                                   ShowButtonSpinner="False" Width="60" Margin="8,0,0,0"/>
                </Grid>
                
                <!-- Harf AralÄ±ÄŸÄ± -->
                <TextBlock Classes="label" Text="{Binding LetterSpacing, StringFormat='Harf AralÄ±ÄŸÄ±: {0} px'}"/>
                <Grid ColumnDefinitions="*, Auto">
                    <Slider Grid.Column="0" Minimum="0" Maximum="10" Value="{Binding LetterSpacing}" 
                            TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <NumericUpDown Grid.Column="1" Value="{Binding LetterSpacing}" 
                                   Minimum="0" Maximum="10"
                                   ShowButtonSpinner="False" Width="60" Margin="8,0,0,0"/>
                </Grid>
            </StackPanel>
        </Expander>
        
        <!-- Efektler -->
        <Expander Header="âœ¨ Efektler" IsExpanded="False">
            <StackPanel Spacing="8">
                <CheckBox Content="Ters Renk" IsChecked="{Binding InvertColors}"/>
                
                <TextBlock Classes="label" Text="{Binding AgingPercent, StringFormat='Eskime: %{0}'}"/>
                <Grid ColumnDefinitions="*, Auto">
                    <Slider Grid.Column="0" Minimum="0" Maximum="5" Value="{Binding AgingPercent}"
                            TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <NumericUpDown Grid.Column="1" Value="{Binding AgingPercent}" 
                                   Minimum="0" Maximum="5"
                                   ShowButtonSpinner="False" Width="60" Margin="8,0,0,0"/>
                </Grid>
            </StackPanel>
        </Expander>
        
        <!-- Animasyon -->
        <Expander Header="ðŸŽ¬ Animasyon" IsExpanded="False">
            <StackPanel Spacing="8">
                <TextBlock Classes="label" Text="{Binding AnimationSpeed, StringFormat='HÄ±z: {0} px/s'}"/>
                <Grid ColumnDefinitions="*, Auto">
                    <Slider Grid.Column="0" Minimum="1" Maximum="100" Value="{Binding AnimationSpeed}"
                            TickFrequency="1" IsSnapToTickEnabled="True"/>
                    <NumericUpDown Grid.Column="1" Value="{Binding AnimationSpeed}" 
                                   Minimum="1" Maximum="100"
                                   ShowButtonSpinner="False" Width="60" Margin="8,0,0,0"/>
                </Grid>
            </StackPanel>
        </Expander>
        
    </StackPanel>

</UserControl>
